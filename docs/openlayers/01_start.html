<!doctype html>
<html lang="en">

<head>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@master/en/v6.3.1/css/ol.css"
        type="text/css">
  <style>
    .map {
      height: 400px;
      width: 100%;
    }

  </style>
  <script src="https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@master/en/v6.3.1/build/ol.js"></script>
  <title>OpenLayers example</title>
</head>

<body>
  <h2>My Map</h2>
  <button id="add">添加arcgisTile图层</button>
  <button id="delete">删除arcgisTile图层</button>
  <button id="addArcgis">添加arcgisImage图层</button>
  <button id="delectArcgis">删除arcgisImage图层</button>
  <div id="map" class="map"></div>
  <script type="text/javascript">
    var map = new ol.Map({
      target: 'map',
      layers: [new ol.layer.Tile({
        source: new ol.source.OSM()
      })],
      view: new ol.View({
        center: [-10997148, 4569099],
        zoom: 4
      })
    });
    // 添加图层
    let layer = new ol.layer.Tile({
      extent: [-13884991, 2870341, -7455066, 6338219],
      source: new ol.source.TileArcGISRest({
        url: 'https://sampleserver1.arcgisonline.com/ArcGIS/rest/services/Specialty/ESRI_StateCityHighway_USA/MapServer'
      })
    })
    document.getElementById('add').onclick = function () {
      map.addLayer(layer)
    }
    // 删除图层
    document.getElementById('delete').onclick = function () {
      map.removeLayer(layer)
    }
    //添加arcgis图层
    let layer2 = new ol.layer.Image({
      source: new ol.source.ImageArcGISRest({
        ratio: 1,
        params: {},
        url: 'https://sampleserver1.arcgisonline.com/ArcGIS/rest/services/Specialty/ESRI_StateCityHighway_USA/MapServer'
      })
    })
    document.getElementById('addArcgis').onclick = function () {
      map.addLayer(layer2)
    }
    // 删除图层
    document.getElementById('delectArcgis').onclick = function () {
      map.removeLayer(layer2)
    }

  </script>
</body>

</html>
