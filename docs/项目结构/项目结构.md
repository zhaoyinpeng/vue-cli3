# 项目结构
开发过程中，应该遵守项目约定好的结构

## 项目总体结构
```
docs                --开发文档
public              --不经webpack打包的静态资源
src                 --源代码
  api                 --网络请求
  assets              --静态资源
  components          --公共组件
  plugins             --vue插件
  router              --路由
  styles              --公共样式文件
  utils               --工具方法
  views               --视图
  vuex                --数据/状态管理
  App.vue             --系统根组件
  main.js             --系统入口
.env.development    --开发环境变量配置
.env.production     --生产环境变量配置
.eslintrc.js        --eslint规则配置
vue.config.js       --vue项目配置文件
```
::: tip 为什么要保持项目结构清晰
保持项目代码结构清晰，有利于我们对代码整体的阅读，把握，维护。有助于项目中模块的独立，移植，职能清晰。
:::

## 项目结构详情

### docs
开发文档编写目录

### public
静态资源存放目录，webpack默认不会打包此文件夹中的东西，会直接复制到打包后的static文件夹
::: danger 关于es6等新语法
因ie老版本等浏览器对诸如es6等新语法的支持度不够好，应尽量避免在public目录下使用诸如es6等新语法，因为public目录下的代码不会经过babel转换。
:::

### api
后台接口存放目录，原则上，需要与后台做交互的，都应该按照模块划分，写在api文件夹下

api添加接口方法举例(源码参考 <code>src/api/testApi.js</code>)

```
import request from '../utils/request'

/**
 * api用例 get 方法测试
 *
 * @param {Object} data
 * @returns {Promise}
 */
export function testGet(data) {
  return request({
    method: 'get',
    url: '/test/backendTestGet',
    params: data
  })
}

/**
 * api用例 post 方法测试
 *
 * @param {Object} data
 * @returns {Promise}
 */
export function testPost(data) {
  return request({
    method: 'get',
    url: '/test/backendTestPost',
    data: data
  })
}
```

api使用举例

```
import { testGet } from '@/api/testApi'

testGet.then(data = > {
  // do something with data
  console.log(data)
}).catch(e){
  console.error(e)
}
```

### assets

公共静态资源存放文件夹。存放字体，公共图片，logo等

::: warning 静态资源究竟应该怎样存放
实际项目中，无法强制决定你应该把某个静态资源存放在某个固定的目录。但是我们应该有一个约定来使我们一起遵守，便于维护:

公用的，类似箭头，边框背景图，字体等一些很多地方可能都会用到的，应放在<code>src/assets</code>目录下

私有的，例如某个图片只有一个组件，或者某个视图所使用，应遵循 **就近原则** 放在当前组件或视图文件夹下的 <code>assets</code>文件夹下
:::

### components

公共组件目录，存放跟业务逻辑无关的，根据特定的输入一定有特定输出的可复用可移植组件

公共组件开发应遵循的原则，参见 [公共组件开发](/开发规范/开发规范.md#公共组件开发)

### plugins

vue插件目录，存放vue实例会用到的插件

#### 什么是插件，为什么要用插件

插件通常用来为 Vue 添加全局功能，全局方法。

插件的使用请参考 [插件](https://cn.vuejs.org/v2/guide/plugins.html)

插件编写举例，参考 <code>src/plugins/cidPlugin.js</code>
::: danger 请慎用插件
当你无法确定，是否应该把某一个功能，或者方法写成插件的时候，请思考以下方面:
+ 该功能是否是全局都会用到，类似于v-model
+ 该功能写在插件里面，是否让其他开发者迷惑，比如一个setName方法
+ 该插件是否只是小范围使用，是否使用 [mixin](https://cn.vuejs.org/v2/guide/mixins.html) 更合理
:::

### router

路由存放文件夹，当模块较多时，建议按模块分成几个文件
路由的使用，参考[vue-router](https://router.vuejs.org/zh/)

### styles

公共样式存放文件夹，其中

| name              | desc                                  |
| ----------------- |:-------------------------------------:|
| index.scss        | css文件统一出口，使用时引入此文件即可    |
| element-ui.scss   | 对element-ui里面的样式的重写            |
| normalize.scss    | 保持一些html元素在个浏览器表现一致的css库|

### utils

js工具方法库

| name              | desc                                  |
| ----------------- |:-------------------------------------:|
| domUtil.js        | 包含一些常用的跟dom有关的js方法          |
| request.js        | 对axios进行了封装，拦截                 |
| stringUtil.js     | 包含了对字符串的常用的处理函数           |
| timeUtil.js       | 包含了对日期类型的常用的处理函数         |

### views

视图存放文件夹

存放跟路由对应，或者跟业务场景相关的视图单位的组件。

#### view跟component之间的关系

<code>view</code>是视图，代表一个大的业务模块或者逻辑区，而<code>component</code>则是一个小的基本组件单元

如登录页，包含logo，title，登录信息表单，底部信息。logo和title等，可以视为<code>component</code>，整个页面，则可以视为<code>view</code>

::: tip 谨记如下规则
应用 = n * view

view = n * component
:::

### vuex

全局状态管理存放文件夹，当模块较多时，建议按模块分成几个文件
vuex的使用，参考[vuex](https://vuex.vuejs.org/zh/)

### App.vue

应用的跟组件

### main.js

应用的主入口

### .env.development / .env.production / ...

因开发环境和生产环境诸多不同，在开发和生产模式中，往往需要变动很多东西，例如后台服务的地址，例如应用发布的名字等等,因此在不同的环境如果能自动加载不同的配置就可以让这项工作变得轻松很多

使用方式，参考[@vue/cli 模式](https://cli.vuejs.org/zh/guide/mode-and-env.html#模式)

### vue.config.js

vue项目配置文件，可以配置webpack，各种插件，项目的静态资源目录等等

详细配置，参考[@vue/cli 配置参考](https://cli.vuejs.org/zh/config/) 